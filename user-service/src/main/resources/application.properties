spring.application.name=user-service
# Eureka Configuration
eureka.client.service-url.defaultZone=http://localhost:8761/eureka/
eureka.client.enabled=true
eureka.client.register-with-eureka=true
eureka.client.fetch-registry=true
server.port=8083

# Disable MySQL and DataSource auto-configuration when using H2
#spring.autoconfigure.exclude=org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration
#spring.autoconfigure.exclude=org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration

# MongoDB Configuration (This has been removed)
# spring.data.mongodb.uri=mongodb://localhost:27017/userdb

# H2 Database Configuration (for testing)
spring.datasource.url=jdbc:h2:mem:userdb
spring.datasource.driver-class-name=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=password
spring.h2.console.enabled=true
spring.jpa.database-platform=org.hibernate.dialect.H2Dialect
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true


# CORS configuration - Disabled (handled by API Gateway)
# spring.web.cors.allowed-origins=http://localhost:3000
# spring.web.cors.allowed-methods=GET,POST,PUT,DELETE
# spring.web.cors.allowed-headers=*

# Enable CORS for frontend (Nginx on port 8084) - Disabled (handled by API Gateway)
# spring.webflux.cors.allowed-origins=http://localhost:8084
# spring.webflux.cors.allowed-methods=GET,POST,PUT,DELETE
# spring.webflux.cors.allowed-headers=*

# Redis Configuration (disabled for H2-only setup)
#spring.cache.type=redis
#spring.redis.host=host.docker.internal   # Redis server host (Docker or local machine)
#spring.redis.port=6379        # Redis default port

# RabbitMQ Configuration (disabled for standalone setup)
#spring.rabbitmq.host=localhost
#spring.rabbitmq.port=5672
#spring.rabbitmq.username=rabbitmq
#spring.rabbitmq.password=password

# Spring Cloud Compatibility
spring.cloud.compatibility-verifier.enabled=false

# Disable RabbitMQ Auto Configuration
spring.autoconfigure.exclude=org.springframework.boot.autoconfigure.amqp.RabbitAutoConfiguration

# Disable Redis Auto Configuration
spring.cache.type=none